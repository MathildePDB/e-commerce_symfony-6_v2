{% extends 'base.html.twig' %}

{% block body %}
	<main class="contianer-sm mb-5">
		<h1 class="m-5">Bienvenue sur le e-commerce</h1>
		{# derniers produits ajoutés #}
		<div class="container">
			<h2 class="m-5">Derniers produits ajoutés</h2>
			<div class="row">
				{% for product in products %}
					<div class="col-lg-2 col-md-4 col-sm-6 mb-4">
						<div class="card text-dark">
							<a class="text-decoration-none nav-link grow-on-hover" href="{{ path('products_details', {"slug": product.slug }) }}">
								<div class="d-flex flex-column" style="height: 320px;">
									<div class="card-body pb-0">
										<small class="card-meta">
											{{ product.categories.name }}
										</small>
										<h5 class="card-title mt-0">
											{{ product.name|slice(0, 30) ~ '...' }}
										</h5>
										<h6 class="my-0 text-dark d-block">{{ (product.price / 100)|number_format(2) ~ ' €' }}</h6>
									</div>
									<div class="d-flex justify-content-center align-items-end mb-4">
										<img src="{{ asset('assets/uploads/products/mini/300x300-') ~ product.images[0].name }}" class="img-fluid d-block rounded-circle object-fit-none" alt="{{ product.name }}" style="width: 150px; height: 150px;">
									</div>
								</div>
							</a>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
		{# catégories les plus visitées #}
		<div class="container mb-5 pb-5">
			<h2 class="m-5">catégories les plus visitées</h2>
			<div class="row">
				{% for category in categories %}
					<div class="col-lg-2 col-md-4 col-sm-6 mb-4">
						<div class="card text-dark rounded">
							<a class="text-decoration-none nav-link grow-on-hover text-center py-4" href="{{ path('categories_list', {"slug": category.slug }) }}">
								{{ category.name }}
							</a>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</main>
{% endblock %}
{% block stylesheets %}
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}
